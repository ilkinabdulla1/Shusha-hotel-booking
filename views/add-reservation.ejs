<main class="main-content" style="min-height: 100vh; background-color: #f5f7fa; padding: 20px;">
    <div class="container" style="max-width: 800px; background-color: #ffffff; padding: 40px; border-radius: 15px; box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);">
  
      <!-- Page Header -->
      <div style="text-align: center; margin-bottom: 30px;">
        <h1 style="font-size: 2.5rem; font-weight: bold; color: #333;">Add New Reservation</h1>
      </div>
  
      <!-- Add Reservation Form -->
      <form action="/parking-management/reservations/add" method="POST" id="reservationForm">
        
        <!-- Auto-Generated Reservation ID (Hidden) -->
        <input type="hidden" id="reservationID" name="reservationID" value="PR<%= Math.floor(1000 + Math.random() * 9000) %>">
  
        <!-- Customer Name -->
        <div class="form-group" style="margin-bottom: 15px;">
          <label for="customerName" style="font-weight: bold;">Customer Name</label>
          <input 
            type="text" 
            id="customerName" 
            name="customerName" 
            class="form-control" 
            placeholder="Enter Customer Name" 
            required 
            style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;">
        </div>
  
        <!-- Number Plate -->
        <div class="form-group" style="margin-bottom: 15px;">
          <label for="numberPlate" style="font-weight: bold;">Vehicle Number Plate</label>
          <input 
            type="text" 
            id="numberPlate" 
            name="numberPlate" 
            class="form-control" 
            placeholder="Enter Vehicle Number Plate" 
            required 
            style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;">
        </div>
  
        <!-- Parking Lot Selection -->
        <div class="form-group" style="margin-bottom: 15px;">
            <label for="parkingLot" style="font-weight: bold;">Select Parking Lot</label>
            <select 
            id="parkingLot" 
            name="parkingLot" 
            class="form-control" 
            required 
            style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;">
            <option value="" disabled selected>Select Parking Lot</option>
            <% parkingLots.forEach(lot => { %>
                <option value="<%= lot._id %>">
                <%= lot.classType %> - #<%= lot.lotID %> (<%= lot.hotel.name %>)
                </option>
            <% }) %>
            </select>
        </div>
  
  
        <!-- Spot Number -->
        <div class="form-group" style="margin-bottom: 15px;">
            <label for="spotNumber" style="font-weight: bold;">Spot Number</label>
            <input 
              type="text" 
              id="spotNumber" 
              name="spotNumber" 
              class="form-control" 
              placeholder="Enter Spot Number (e.g., S12, B5)" 
              required 
              style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;">
        </div>
  
        <!-- Plan ($/hour) -->
        <div class="form-group" style="margin-bottom: 15px;">
          <label for="plan" style="font-weight: bold;">Plan ($/hour)</label>
          <input 
            type="number" 
            id="plan" 
            name="plan" 
            min="0.1" 
            step="0.01" 
            class="form-control" 
            placeholder="Auto-filled from Parking Lot" 
            required 
            readonly
            style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;">
        </div>
  
        <!-- Check-in Date -->
        <div class="form-group" style="margin-bottom: 15px;">
          <label for="checkIn" style="font-weight: bold;">Check-in Date & Time</label>
          <input 
            type="datetime-local" 
            id="checkIn" 
            name="checkIn" 
            class="form-control" 
            required 
            style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;">
        </div>
  
        <!-- Check-out Date -->
        <div class="form-group" style="margin-bottom: 15px;">
          <label for="checkOut" style="font-weight: bold;">Check-out Date & Time</label>
          <input 
            type="datetime-local" 
            id="checkOut" 
            name="checkOut" 
            class="form-control" 
            required 
            style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;">
        </div>
  
        <!-- Status -->
        <div class="form-group" style="margin-bottom: 20px;">
          <label for="status" style="font-weight: bold;">Status</label>
          <select 
            id="status" 
            name="status" 
            class="form-control" 
            required 
            style="padding: 10px; border-radius: 8px; border: 1px solid #ccc;">
            <option value="Active">Active</option>
            <option value="Completed">Completed</option>
            <option value="Cancelled">Cancelled</option>
          </select>
        </div>
  
        <!-- Submit Button -->
        <div style="text-align: center;">
          <button 
            type="submit" 
            class="btn btn-success" 
            style="background-color: #1cc88a; padding: 12px 25px; border-radius: 8px; color: #fff; font-size: 1rem; font-weight: bold; border: none;">
            Add Reservation
          </button>
        </div>
  
      </form>
  
    </div>
  </main>
  
  <!-- Dynamic Plan and Spot Loading Script -->
  <script>
    function updatePlanAndSpots() {
      const selectedLot = document.getElementById('parkingLot');
      const selectedOption = selectedLot.options[selectedLot.selectedIndex];
      const plan = selectedOption.getAttribute('data-plan');
  
      document.getElementById('plan').value = plan;
  
      // Fetch available spots (example, you need backend for this)
      // Fetch logic should be implemented via AJAX or API call.
    }
  </script>
  